(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bf6fb98"],{"1dde":function(e,o,t){var r=t("d039"),s=t("b622"),l=s("species");e.exports=function(e){return!r((function(){var o=[],t=o.constructor={};return t[l]=function(){return{foo:1}},1!==o[e](Boolean).foo}))}},a15b:function(e,o,t){"use strict";var r=t("23e7"),s=t("44ad"),l=t("fc6a"),a=t("b301"),p=[].join,n=s!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:n||u},{join:function(e){return p.call(l(this),void 0===e?",":e)}})},c5fc:function(e,o,t){"use strict";t.r(o);var r=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("Row",{attrs:{gutter:20}},[t("Col",{attrs:{lg:4,md:8}},[t("Input",{attrs:{placeholder:"工号"},model:{value:e.queryForm.userName,callback:function(o){e.$set(e.queryForm,"userName",o)},expression:"queryForm.userName"}})],1),t("Col",{attrs:{lg:4,md:8}},[t("Input",{attrs:{placeholder:"姓名"},model:{value:e.queryForm.userJobNo,callback:function(o){e.$set(e.queryForm,"userJobNo",o)},expression:"queryForm.userJobNo"}})],1),t("Col",{attrs:{lg:4,md:8}},[t("Button",{attrs:{type:"success"},on:{click:function(o){return e.page()}}},[t("Icon",{attrs:{type:"md-search"}}),e._v("查询 ")],1)],1)],1),t("br"),t("Row",[t("Button",{attrs:{type:"success"},on:{click:function(o){return e.showPeopleModal()}}},[t("Icon",{attrs:{type:"md-add"}}),e._v("添加 ")],1),t("Button",{staticClass:"margin-left",attrs:{type:"error"},on:{click:e.showDelModal}},[t("Icon",{attrs:{type:"md-close"}}),e._v("删除 ")],1)],1),t("br"),t("Table",{attrs:{columns:e.column1,data:e.data1},on:{"on-selection-change":e.selectionChange}}),t("br"),t("Page",{attrs:{total:e.dataTotal,"show-total":""},on:{"on-change":e.page}}),t("Modal",{attrs:{title:"修改人员信息",width:"50%"},model:{value:e.peopleModal,callback:function(o){e.peopleModal=o},expression:"peopleModal"}},[t("Form",{ref:"peopleForm",attrs:{model:e.peopleForm,rules:e.ruleValidate,"label-width":70,"label-position":"left"}},[t("FormItem",{attrs:{label:"编号",prop:"userNo"}},[t("Input",{model:{value:e.peopleForm.userNo,callback:function(o){e.$set(e.peopleForm,"userNo",o)},expression:"peopleForm.userNo"}})],1),t("FormItem",{attrs:{label:"工号",prop:"userJobNo"}},[t("Input",{model:{value:e.peopleForm.userJobNo,callback:function(o){e.$set(e.peopleForm,"userJobNo",o)},expression:"peopleForm.userJobNo"}})],1),t("FormItem",{attrs:{label:"姓名",prop:"userName"}},[t("Input",{model:{value:e.peopleForm.userName,callback:function(o){e.$set(e.peopleForm,"userName",o)},expression:"peopleForm.userName"}})],1),t("FormItem",{attrs:{label:"类型",prop:"userType"}},[t("Select",{model:{value:e.peopleForm.userType,callback:function(o){e.$set(e.peopleForm,"userType",o)},expression:"peopleForm.userType"}},[t("Option",{attrs:{value:1}},[e._v("内部")])],1)],1),t("FormItem",{attrs:{label:"部门",prop:"departmentId"}},[t("Select",{model:{value:e.peopleForm.departmentId,callback:function(o){e.$set(e.peopleForm,"departmentId",o)},expression:"peopleForm.departmentId"}},[t("Option",{attrs:{value:1}},[e._v("1")])],1)],1),t("FormItem",{attrs:{label:"科室",prop:"divisionId"}},[t("Select",{model:{value:e.peopleForm.divisionId,callback:function(o){e.$set(e.peopleForm,"divisionId",o)},expression:"peopleForm.divisionId"}},[t("Option",{attrs:{value:1}},[e._v("1")])],1)],1),t("FormItem",{attrs:{label:"用户名",prop:"userLoginName"}},[t("Input",{model:{value:e.peopleForm.userLoginName,callback:function(o){e.$set(e.peopleForm,"userLoginName",o)},expression:"peopleForm.userLoginName"}})],1),t("FormItem",{attrs:{label:"密码",prop:"userPwd"}},[t("Input",{attrs:{type:"password"},model:{value:e.peopleForm.userPwd,callback:function(o){e.$set(e.peopleForm,"userPwd",o)},expression:"peopleForm.userPwd"}})],1),t("FormItem",{attrs:{label:"角色",prop:"roleId"}},[t("Select",{model:{value:e.peopleForm.roleId,callback:function(o){e.$set(e.peopleForm,"roleId",o)},expression:"peopleForm.roleId"}},[t("Option",{attrs:{value:1}},[e._v("1")])],1)],1),t("FormItem",{attrs:{label:"身份证号"}},[t("Input",{model:{value:e.peopleForm.userIDcard,callback:function(o){e.$set(e.peopleForm,"userIDcard",o)},expression:"peopleForm.userIDcard"}})],1),t("FormItem",{attrs:{label:"性别"}},[t("Select",{model:{value:e.peopleForm.gender,callback:function(o){e.$set(e.peopleForm,"gender",o)},expression:"peopleForm.gender"}},[t("Option",{attrs:{value:1}},[e._v("男")]),t("Option",{attrs:{value:0}},[e._v("女")])],1)],1),t("FormItem",{attrs:{label:"地址"}},[t("Input",{model:{value:e.peopleForm.address,callback:function(o){e.$set(e.peopleForm,"address",o)},expression:"peopleForm.address"}})],1),t("FormItem",{attrs:{label:"岗位"}},[t("Select",{model:{value:e.peopleForm.occupation,callback:function(o){e.$set(e.peopleForm,"occupation",o)},expression:"peopleForm.occupation"}},[t("Option",{attrs:{value:1}},[e._v("1")])],1)],1),t("FormItem",{attrs:{label:"联系电话"}},[t("Input",{model:{value:e.peopleForm.userPhone,callback:function(o){e.$set(e.peopleForm,"userPhone",o)},expression:"peopleForm.userPhone"}})],1),t("FormItem",{attrs:{label:"照片"}},[t("Input",{model:{value:e.peopleForm.userPhoto,callback:function(o){e.$set(e.peopleForm,"userPhoto",o)},expression:"peopleForm.userPhoto"}})],1),t("FormItem",{attrs:{label:"状态"}},[t("Select",{model:{value:e.peopleForm.userState,callback:function(o){e.$set(e.peopleForm,"userState",o)},expression:"peopleForm.userState"}},[t("Option",{attrs:{value:0}},[e._v("可用")]),t("Option",{attrs:{value:1}},[e._v("禁用")])],1)],1),t("br"),t("FormItem",{attrs:{label:"预览"}},[t("Input",{model:{value:e.peopleForm.photoUrl,callback:function(o){e.$set(e.peopleForm,"photoUrl",o)},expression:"peopleForm.photoUrl"}})],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{on:{click:function(o){e.peopleModal=!1}}},[e._v("关闭")]),t("Button",{attrs:{type:"success"},on:{click:e.savePeople}},[e._v("保存")])],1)],1)],1)},s=[],l=(t("a15b"),t("d81d"),t("b64b"),{name:"PeopleMgr",data:function(){var e=this;return{peopleModal:!1,selectionIds:"",dataTotal:0,isAdd:!0,queryForm:{userName:"",userJobNo:"",pageIndex:1,pageSize:10},peopleForm:{userNo:"",userJobNo:"",userName:"",userType:"",departmentId:0,divisionId:0,userLoginName:"",roleId:0,userIDcard:"",address:"",occupation:"",userPhone:"",userPhoto:"",photoUrl:"",userState:"",orgId:0},ruleValidate:{userNo:[{required:!0,message:"编号不能为空",trigger:"blur"}],userJobNo:[{required:!0,message:"工号不能为空",trigger:"blur"}],userName:[{required:!0,message:"姓名不能为空",trigger:"blur"}],userType:[{required:!0,type:"number",message:"类型不能为空",trigger:"blur"}],departmentId:[{required:!0,type:"number",message:"部门不能为空",trigger:"change"}],divisionId:[{required:!0,type:"number",message:"科室不能为空",trigger:"change"}],userLoginName:[{required:!0,message:"用户名不能为空",trigger:"blur"}],userPwd:[{required:!0,message:"密码不能为空",trigger:"blur"}],roleId:[{required:!0,type:"number",message:"角色不能为空",trigger:"change"}]},column1:[{key:"select",type:"selection",width:60},{key:"userNo",title:"编号",width:100},{key:"userJobNo",title:"工号",width:100},{key:"userName",title:"姓名",width:100},{key:"userPhone",title:"联系电话",width:100},{key:"userIDcard",title:"身份证号",width:150},{key:"gender",title:"性别",width:100},{key:"occupation",title:"岗位",width:100},{key:"divisionName",title:"科室",width:100},{key:"userState",title:"状态",width:100},{title:"修改",width:100,render:function(o,t){return o("a",{on:{click:function(){e.showPeopleModal(t.row)}}},[o("Icon",{props:{type:"md-create",size:24}})])}}],data1:[]}},methods:{selectionChange:function(e){this.selectionIds=e.map((function(e){return e.peopleId})).join(",")},showDelModal:function(){this.$custom.showDelModal(this,this.delPeople())},showPeopleModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.peopleForm=this.$custom.handleForm(this.peopleForm,e),this.isAdd=0===Object.keys(e).length,this.peopleModal=!0},delPeople:function(){var e=this;this.$custom.post("api/user/delUser",{ids:this.selectionIds},this,(function(o){e.$Message.success(o.msg),e.page()}))},page:function(){var e=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.queryForm.pageIndex=o,this.$custom.post("api/user/getUserList",this.queryForm,this,(function(o){e.data1=o.result}))},savePeople:function(){var e=this,o=this.isAdd?"api/user/addUser":"api/user/updUser";this.$custom.post(o,this.peopleForm,this,(function(o){e.$Message.success(o.msg),e.page()}))}},created:function(){this.page()}}),a=l,p=t("2877"),n=Object(p["a"])(a,r,s,!1,null,null,null);o["default"]=n.exports},d81d:function(e,o,t){"use strict";var r=t("23e7"),s=t("b727").map,l=t("1dde");r({target:"Array",proto:!0,forced:!l("map")},{map:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-4bf6fb98.b1c7ddf1.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bc9fe11c"],{"1dde":function(e,t,o){var r=o("d039"),l=o("b622"),a=l("species");e.exports=function(e){return!r((function(){var t=[],o=t.constructor={};return o[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},a15b:function(e,t,o){"use strict";var r=o("23e7"),l=o("44ad"),a=o("fc6a"),i=o("b301"),n=[].join,s=l!=Object,c=i("join",",");r({target:"Array",proto:!0,forced:s||c},{join:function(e){return n.call(a(this),void 0===e?",":e)}})},d81d:function(e,t,o){"use strict";var r=o("23e7"),l=o("b727").map,a=o("1dde");r({target:"Array",proto:!0,forced:!a("map")},{map:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},e8ac:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Row",{attrs:{gutter:20}},[o("Col",{attrs:{sm:6,lg:4}},[o("Input",{attrs:{placeholder:"角色"},model:{value:e.queryForm.roleName,callback:function(t){e.$set(e.queryForm,"roleName",t)},expression:"queryForm.roleName"}})],1),o("Col",{attrs:{sm:6,lg:4}},[o("Button",{attrs:{type:"success"},on:{click:function(t){return e.page()}}},[o("Icon",{attrs:{type:"md-search"}}),e._v("查询 ")],1)],1)],1),o("br"),o("Row",[o("Button",{attrs:{type:"success"},on:{click:function(t){return e.showRoleModal()}}},[o("Icon",{attrs:{type:"md-add"}}),e._v("添加 ")],1),o("Button",{staticClass:"margin-left",attrs:{type:"error"},on:{click:e.showDelModal}},[o("Icon",{attrs:{type:"md-close"}}),e._v("删除 ")],1)],1),o("br"),o("Card",[o("Table",{attrs:{columns:e.column1,data:e.data1},on:{"on-selection-change":e.selectionChange}}),o("br"),o("Page",{attrs:{total:e.dataTotal,"show-total":""},on:{"on-change":e.page}})],1),o("Modal",{attrs:{title:"角色管理"},model:{value:e.roleModal,callback:function(t){e.roleModal=t},expression:"roleModal"}},[o("Form",{ref:"roleForm",attrs:{model:e.roleForm,rules:e.ruleValidate}},[o("FormItem",{attrs:{label:"角色名称",prop:"roleName"}},[o("Input",{model:{value:e.roleForm.roleName,callback:function(t){e.$set(e.roleForm,"roleName",t)},expression:"roleForm.roleName"}})],1),o("FormItem",{attrs:{label:"类型",prop:"roleType"}},[o("RadioGroup",{model:{value:e.roleForm.roleType,callback:function(t){e.$set(e.roleForm,"roleType",t)},expression:"roleForm.roleType"}},[o("Radio",{attrs:{label:1}},[e._v("管理员")]),o("Radio",{attrs:{label:2}},[e._v("普通用户")])],1)],1),o("FormItem",{attrs:{label:"启用",prop:"useState"}},[o("RadioGroup",{model:{value:e.roleForm.useState,callback:function(t){e.$set(e.roleForm,"useState",t)},expression:"roleForm.useState"}},[o("Radio",{attrs:{label:1}},[e._v("是")]),o("Radio",{attrs:{label:0}},[e._v("否")])],1)],1),o("FormItem",{attrs:{label:"备注",prop:"remark"}},[o("Input",{model:{value:e.roleForm.remark,callback:function(t){e.$set(e.roleForm,"remark",t)},expression:"roleForm.remark"}})],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{on:{click:function(t){e.roleModal=!1}}},[e._v("关闭")]),o("Button",{attrs:{type:"success"},on:{click:function(t){return e.handleSubmit("roleForm")}}},[e._v("保存")])],1)],1),o("Modal",{attrs:{title:"设置权限"},model:{value:e.permissionModal,callback:function(t){e.permissionModal=t},expression:"permissionModal"}},[e._v(" 当前角色: 系统管理员 "),o("Checkbox",[e._v("所有权限")]),o("br"),o("Tree",{attrs:{data:e.permissionData,"show-checkbox":""}})],1)],1)},l=[],a=(o("a15b"),o("d81d"),o("b64b"),{name:"WasteStorage",data:function(){var e=this;return{barCode:"",roleModal:!1,permissionModal:!1,isAdd:!0,selectionIds:"",queryForm:{pageIndex:1,pageSize:10,roleName:""},dataTotal:0,roleForm:{roleId:0,roleName:"",roleType:1,useState:0,orgId:1,remark:""},ruleValidate:{roleName:[{required:!0,message:"名称不能为空",trigger:"blur"}],roleType:[{required:!0,type:"number",message:"请选择角色类型",trigger:"blur"}],useState:[{required:!0,type:"number",message:"请选择是否启用",trigger:"blur"}]},column1:[{key:"select",type:"selection",width:60},{key:"roleName",title:"角色名"},{key:"roleType",title:"类型",render:function(e,t){return e("span",1===t.row.roleType?"管理员":"普通用户")}},{key:"useState",title:"状态",render:function(e,t){return e("Tag",{props:{color:1===t.row.useState?"success":"default"}},1===t.row.useState?"已启用":"未启用")}},{key:"remark",title:"备注"},{key:"action",title:"操作",render:function(t,o){return t("div",[t("Button",{props:{type:"success",icon:"ios-create-outline",size:"small"},on:{click:function(){e.showRoleModal(o.row)}}},"修改"),t("Button",{props:{type:"success",icon:"ios-cog-outline",size:"small"},style:{"margin-left":"4px"},on:{click:function(){e.permissionModal=!0}}},"设置权限")])}}],data1:[],permissionData:[{title:"医院管理",expand:!0,children:[{title:"人员管理",expand:!0,children:[{title:"增加"},{title:"修改"},{title:"删除"},{title:"查看当前机构"}]},{title:"部门管理",expand:!0,children:[{title:"增加"},{title:"修改"},{title:"删除"},{title:"查看当前机构"}]},{title:"科室管理",expand:!0,children:[{title:"增加"},{title:"修改"},{title:"删除"},{title:"查看当前机构"}]}]},{title:"废弃物管理",expand:!0,children:[{title:"医废采集",expand:!0,children:[{title:"删除"},{title:"查看当前机构"},{title:"查看下属机构"}]},{title:"医废装箱",expand:!0,children:[{title:"删除"},{title:"查看当前机构"},{title:"查看下属机构"}]},{title:"医废出库",expand:!0,children:[{title:"删除"},{title:"查看当前机构"},{title:"查看下属机构"}]},{title:"医废采集日报表",expand:!0,children:[{title:"查看当前机构"}]},{title:"医废采集月报表",expand:!0,children:[{title:"查看当前机构"}]},{title:"医废采集年报表",expand:!0,children:[{title:"查看当前机构"}]},{title:"医废采集流水报表",expand:!0,children:[{title:"查看当前机构"}]},{title:"医废小时报表",expand:!0,children:[{title:"查看当前机构"}]},{title:"装桶日统计报表",expand:!0,children:[{title:"查看当前机构"}]},{title:"装桶月统计报表表",expand:!0,children:[{title:"查看当前机构"}]},{title:"装桶年统计报表",expand:!0,children:[{title:"查看当前机构"}]}]},{title:"系统管理",expand:!0,children:[{title:"角色管理",expand:!0,children:[{title:"增加"},{title:"修改"},{title:"删除"},{title:"查看当前机构"},{title:"设置权限"}]}]}]}},methods:{selectionChange:function(e){this.selectionIds=e.map((function(e){return e.roleId})).join(",")},page:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.queryForm.pageIndex=t,this.$custom.post("api/role/getRoleList",this.queryForm,this,(function(t){e.data1=t.result,e.dataTotal=t.total||e.dataTotal}))},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){e?(t.saveRole(),t.roleModal=!1):t.$Message.error("请填写完整")}))},handleReset:function(e){this.$refs[e].resetFields()},showRoleModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.roleForm=this.$custom.handleForm(this.roleForm,e),this.isAdd=0===Object.keys(e).length,this.roleModal=!0},showDelModal:function(){var e=this;this.$custom.showDelModal(this,(function(){e.delRole()}))},saveRole:function(){var e=this,t=this.isAdd?"api/role/addRole":"api/role/updRole";this.roleForm.orgId=1,this.$custom.post(t,this.roleForm,this,(function(t){e.page(),e.$Message.success(t.msg)}))},delRole:function(){var e=this;this.$custom.post("api/role/delRole",{ids:this.selectionIds},this,(function(t){e.page(),e.$Message.success(t.msg)}))}},created:function(){this.page()}}),i=a,n=o("2877"),s=Object(n["a"])(i,r,l,!1,null,null,null);t["default"]=s.exports}}]);
//# sourceMappingURL=chunk-bc9fe11c.ba296df0.js.map